<!DOCTYPE html>
<html>

<head>
    <title>
        home.in
    </title>
</head>

<body>
    <h2>Delete</h2>
    <br><br>
    <form method="POST" id="deleteStudentForm">
        <div>
            <label>ID</label>
            
            <input type="number" name="ID_No" id="ID_No" placeholder="Id">
            <br><br>

            <input type="submit" name="submit" value="submit" class="button">
        </div>
        <ol><a href="Untitled-1.html" target="blank">Home</a></ol><br><br>

        <script>
            document.getElementById('deleteStudentForm').addEventListener('submit', async function (e) {
                e.preventDefault();

                
                const studentId = document.getElementById('ID_No').value;

                try {
                    
                    const response = await fetch(`http://localhost:8082/del/${studentId}`, {
                        method: 'DELETE',
                    });

                    if (response.ok) {
                        alert('Student deleted successfully!');
                    } else {
                        alert('Failed to delete student.');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert('Error occurred while deleting student.');
                }
            });
        </script>
        

        <style>
            h2 {
                text-align: center;
            }

            div {
                text-align: center;
            }

            h6 {
                text-align: center;
            }

            ol {
                text-align: center;
            }
        </style>
</body>
</html>